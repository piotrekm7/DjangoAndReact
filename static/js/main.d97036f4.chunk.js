(this.webpackJsonpstudents=this.webpackJsonpstudents||[]).push([[0],{32:function(e,t,a){e.exports=a(67)},37:function(e,t,a){},38:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},39:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(16),c=a.n(o),l=(a(37),a(38),a(39),a(8)),s=a(9),i=a(11),u=a(10),m=a(12),h=a(81),p=a(82),d=a(83),g=a(76),f=a(72),E=a(84),v=a(73),b=a(74),j=a(31),y=a(68),O=a(69),S=a(70),C=a(71),k=a(14),w=a.n(k),P="https://djangoandreact.appspot.com/api/students/",D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",name:"",email:"",document:"",phone:""},a.onChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.createStudent=function(e){e.preventDefault(),w.a.post(P,a.state).then((function(){a.props.resetState(),a.props.toggle()})).catch(a.catchError)},a.editStudent=function(e){e.preventDefault(),w.a.put(P+a.state.id+"/",a.state).then((function(){a.props.resetState(),a.props.toggle()})).catch(a.catchError)},a.catchError=function(e){alert("The problem occurred with with your submission. Please check if the data provided is correct. If you need help, contact project administrator"),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)),console.log(e.config)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(this.props.student){var e=this.props.student,t=e.id,a=e.name,n=e.email,r=e.document,o=e.phone;this.setState({id:t,name:a,email:n,document:r,phone:o})}}},{key:"render",value:function(){return r.a.createElement(y.a,{onSubmit:this.props.student?this.editStudent:this.createStudent},r.a.createElement(O.a,null,r.a.createElement(S.a,null,"Name:"),r.a.createElement(C.a,{type:"text",name:"name",onChange:this.onChange,value:this.state.name,required:!0})),r.a.createElement(O.a,null,r.a.createElement(S.a,null,"Email:"),r.a.createElement(C.a,{type:"email",name:"email",onChange:this.onChange,value:this.state.email,required:!0})),r.a.createElement(O.a,null,r.a.createElement(S.a,null,"Document:"),r.a.createElement(C.a,{type:"text",name:"document",onChange:this.onChange,value:this.state.document,required:!0})),r.a.createElement(O.a,null,r.a.createElement(S.a,null,"Phone:"),r.a.createElement(C.a,{type:"text",name:"phone",onChange:this.onChange,value:this.state.phone,required:!0})),r.a.createElement(f.a,{type:"submit",disabled:"true"},"Submit"))}}]),t}(r.a.Component),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1},a.toggle=function(){a.setState((function(e){return{modal:!e.modal}}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,a;this.props.create?(e="Creating New Student",t="Create New",a="primary"):(e="Editing Student",t="Edit",a="secondary");var o=r.a.createElement(f.a,{color:a,className:"float-right",onClick:this.toggle},t);return r.a.createElement(n.Fragment,null,o,r.a.createElement(E.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(v.a,{toggle:this.toggle},e),r.a.createElement(b.a,null,r.a.createElement(D,{resetState:this.props.resetState,student:this.props.student,toggle:this.toggle}))))}}]),t}(n.Component),A=a(75),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1},a.toggle=function(){a.setState((function(e){return{modal:!e.modal}}))},a.deleteStudent=function(e){w.a.delete(P+e+"/").then((function(){a.props.resetState(),a.toggle()}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(f.a,{color:"danger",onClick:function(){return e.toggle()}},"Remove"),r.a.createElement(E.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(v.a,null,"Do you really want to delete the student?"),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:function(){return e.toggle()}},"Cancel"),r.a.createElement(f.a,{disabled:"true",color:"danger",onClick:function(){return e.deleteStudent(e.props.id)}},"Yes"))))}}]),t}(n.Component),R=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.students;return r.a.createElement(g.a,{dark:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Document"),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"Registration"))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.document),r.a.createElement("td",null,t.phone),r.a.createElement("td",null,t.registration_date),r.a.createElement("td",{align:"center"},r.a.createElement(x,{create:!1,student:t,resetState:e.props.resetState}),r.a.createElement(N,{id:t.id,resetState:e.props.resetState})))}))))}}]),t}(n.Component),T=a(77),q=a(78),B=a(79),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).createPagination=function(){for(var e=[],t=function(t){e.push(r.a.createElement(T.a,{key:t,active:t===a.props.activePage},r.a.createElement(q.a,{onClick:function(){return a.props.changePage(t)}},t)))},n=1;n<=a.props.numberOfPages;n++)t(n);return e},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(B.a,null,r.a.createElement(T.a,{disabled:1===this.props.activePage},r.a.createElement(q.a,{previous:!0,onClick:function(){return e.props.changePage(e.props.activePage-1)}})),this.createPagination(),r.a.createElement(T.a,{disabled:this.props.activePage===this.props.numberOfPages},r.a.createElement(q.a,{next:!0,onClick:function(){return e.props.changePage(e.props.activePage+1)}})))}}]),t}(n.Component),I=a(80);var J=function(){return r.a.createElement(I.a,null,r.a.createElement("h1",null,"Django And React"),r.a.createElement("p",null,"This basic web application was made for testing combination of Django and React as modern and simple approach for web development."),r.a.createElement(f.a,{color:"success",href:"https://github.com/piotrekm7/DjangoAndReact"},"Code on github >>"))},M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={students:[],pages:0,activePage:1},a.getStudents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;w.a.get(P+"?page="+e).then((function(e){a.setState({students:e.data.results}),a.setState({pages:e.data.total_pages})})).catch((function(e){alert("There is the problem with connecting to the server, please contact with project administrator."),console.log(e.config)}))},a.resetState=function(){a.getStudents()},a.changePage=function(e){a.setState({activePage:e}),a.getStudents(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.resetState()}},{key:"render",value:function(){return r.a.createElement(h.a,{style:{marginTop:"20px"}},r.a.createElement(J,null),r.a.createElement(h.a,{style:{marginTop:"20px"}},r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(R,{students:this.state.students,resetState:this.resetState}))),r.a.createElement(p.a,null,r.a.createElement(d.a,null,r.a.createElement(x,{create:!0,resetState:this.resetState}))),r.a.createElement(F,{numberOfPages:this.state.pages,activePage:this.state.activePage,changePage:this.changePage})))}}]),t}(n.Component);var W=function(){return r.a.createElement(M,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(66);c.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.d97036f4.chunk.js.map